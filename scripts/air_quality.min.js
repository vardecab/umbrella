function airMask(e,i){fetch("https://airapi.airly.eu/v2/measurements/point?indexType=AIRLY_CAQI&lat="+e+"&lng="+i+"&apikey="+airly_api_key).then(function(e){return e.json()}).then(function(t){console.error("Airly",t),current_air_quality=t.current.indexes[0].level,console.log("Current air quality is",current_air_quality,"with value of: "+t.current.indexes[0].value+". Medium starts at 50, bad starts at 75. Death starts at 100."),air_quality_index=t.current.indexes[0].value,air_quality_index>=0&air_quality_index<30?document.getElementById("air_quality").innerHTML="Powietrze: ðŸ¤“":air_quality_index>=30&air_quality_index<50?document.getElementById("air_quality").innerHTML="Powietrze: ðŸ¤¢":air_quality_index>=50&air_quality_index<75?document.getElementById("air_quality").innerHTML="Powietrze: ðŸ¤¬":air_quality_index>=75&air_quality_index<100?document.getElementById("air_quality").innerHTML="Powietrze: âš°ï¸":air_quality_index>=100&air_quality_index<125?document.getElementById("air_quality").innerHTML="Powietrze: âš°ï¸âš°ï¸":air_quality_index>=125&&(document.getElementById("air_quality").innerHTML="Powietrze: âš°ï¸âš°ï¸âš°ï¸");try{console.log("PM2.5:",t.current.values[1].value+"Î¼m/25"),console.log("PM10:",t.current.values[2].value+"Î¼m/50"),pm25=t.current.values[1].value,document.getElementById("pm25").innerHTML="PM2.5: "+pm25+"Î¼m/25",pm10=t.current.values[2].value,document.getElementById("pm10").innerHTML="& PM10: "+pm10+"Î¼m/50"}catch(e){console.log("Can't take PM2.5 & PM10 data from Airly API. Will re-try with AQICN.")}null!=t.current.indexes[0].value&&"UNKNOWN"!=t.current.indexes[0].level&&null!=t.current.indexes[0].level||(console.log("There is something wrong and I can't download air quality data from Airly. Probably I couldn't find any stations in 3 km radius or I can't send any more requests."),console.log("Looks like Airly failed us... Let's pull data from China ðŸ¤“"),fetch("https://api.waqi.info/feed/geo:"+e+";"+i+"/?token="+aqicn_api_key).then(function(e){return e.json()}).then(function(e){console.error("AQICN",e),console.log("AQICN:",e.data.aqi),air_quality_index=e.data.aqi,air_quality_index>=0&air_quality_index<50?document.getElementById("air_quality").innerHTML="Powietrze: ðŸ¤“":air_quality_index>=50&air_quality_index<100?document.getElementById("air_quality").innerHTML="Powietrze: ðŸ¤¢":air_quality_index>=100&air_quality_index<150?document.getElementById("air_quality").innerHTML="Powietrze: ðŸ¤¬":air_quality_index>=150&air_quality_index<200?document.getElementById("air_quality").innerHTML="Powietrze: âš°ï¸":air_quality_index>=200&air_quality_index<300?document.getElementById("air_quality").innerHTML="Powietrze: âš°ï¸âš°ï¸":air_quality_index>=300&&(document.getElementById("air_quality").innerHTML="Powietrze: âš°ï¸âš°ï¸âš°ï¸"),"0"==t.current.standards.length?(pm25=e.data.iaqi.pm25.v,console.log("PM2.5:",pm25+"Î¼m/25"),document.getElementById("pm25").innerHTML="PM2.5: "+pm25+"Î¼m/25"):(pm25=t.current.values[1].value,console.log("PM2.5:",pm25+"Î¼m/25")),"0"==t.current.standards.length?(pm10=e.data.iaqi.pm10.v,console.log("PM10:",pm10+"Î¼m/50"),document.getElementById("pm10").innerHTML="& PM10: "+pm10+"Î¼m/50"):(pm25=t.current.values[2].value,console.log("PM10:",pm10+"Î¼m/50"))}))}).catch(function(){})}function smogAlert(){setTimeout(function(){var e=document.getElementById("air_quality").textContent;"Powietrze: âš°ï¸"==e||"Powietrze: âš°ï¸âš°ï¸"==e||"Powietrze: âš°ï¸âš°ï¸âš°ï¸"==e?alert("Lepiej nie wychodÅº z budynku i nie otwieraj okien! Smog zabija â˜ ï¸"):console.log("No alert/notification, air is not so bad. Current: >",e,"<")},1500)}const airly_api_key="p1ukBMrlBEPfRD1SynGXU9iEcr0zzJrE",aqicn_api_key="b2a31fc801f6e4e27353e44d13acf144189c4a0a";